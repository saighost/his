!function(e){function t(t){var n=e(t);return n.addClass("tree"),n}function n(t){var n=e.data(t,"tree").options;e(t).unbind().bind("mouseover",function(t){var n=e(t.target),r=n.closest("div.tree-node");r.length&&(r.addClass("tree-node-hover"),n.hasClass("tree-hit")&&(n.hasClass("tree-expanded")?n.addClass("tree-expanded-hover"):n.addClass("tree-collapsed-hover")),t.stopPropagation())}).bind("mouseout",function(t){var n=e(t.target),r=n.closest("div.tree-node");r.length&&(r.removeClass("tree-node-hover"),n.hasClass("tree-hit")&&(n.hasClass("tree-expanded")?n.removeClass("tree-expanded-hover"):n.removeClass("tree-collapsed-hover")),t.stopPropagation())}).bind("click",function(r){var o=e(r.target),i=o.closest("div.tree-node");if(i.length){if(o.hasClass("tree-hit"))return g(t,i[0]),!1;if(o.hasClass("tree-checkbox"))return a(t,i[0]),!1;j(t,i[0]),n.onClick.call(t,N(t,i[0])),r.stopPropagation()}}).bind("dblclick",function(r){var o=e(r.target).closest("div.tree-node");o.length&&(j(t,o[0]),n.onDblClick.call(t,N(t,o[0])),r.stopPropagation())}).bind("contextmenu",function(r){var o=e(r.target).closest("div.tree-node");o.length&&(n.onContextMenu.call(t,r,N(t,o[0])),r.stopPropagation())})}function r(t){var n=e.data(t,"tree").options;n.dnd=!1;var r=e(t).find("div.tree-node");r.draggable("disable"),r.css("cursor","pointer")}function o(t){function n(t,n){return e(t).closest("ul.tree").tree(n?"pop":"getData",t)}function r(t,n){var r=e(t).draggable("proxy").find("span.tree-dnd-icon");r.removeClass("tree-dnd-yes tree-dnd-no").addClass(n?"tree-dnd-yes":"tree-dnd-no")}function o(r,o){function a(){var a=n(r,!0);e(t).tree("append",{parent:o,data:[a]}),s.onDrop.call(t,o,a,"append")}"closed"==N(t,o).state?p(t,o,function(){a()}):a()}function a(r,o,a){var i={};"top"==a?i.before=o:i.after=o;var d=n(r,!0);i.data=d,e(t).tree("insert",i),s.onDrop.call(t,o,d,a)}var i=e.data(t,"tree"),s=i.options,d=i.tree;i.disabledNodes=[],s.dnd=!0,d.find("div.tree-node").draggable({disabled:!1,revert:!0,cursor:"pointer",proxy:function(t){var n=e('<div class="tree-node-proxy"></div>').appendTo("body");return n.html('<span class="tree-dnd-icon tree-dnd-no">&nbsp;</span>'+e(t).find(".tree-title").html()),n.hide(),n},deltaX:15,deltaY:15,onBeforeDrag:function(n){if(0==s.onBeforeDrag.call(t,N(t,this)))return!1;if(e(n.target).hasClass("tree-hit")||e(n.target).hasClass("tree-checkbox"))return!1;if(1!=n.which)return!1;var r=e(this).find("span.tree-indent");r.length&&(n.data.offsetWidth-=r.length*r.width())},onStartDrag:function(n){e(this).next("ul").find("div.tree-node").each(function(){e(this).droppable("disable"),i.disabledNodes.push(this)}),e(this).draggable("proxy").css({left:-1e4,top:-1e4}),s.onStartDrag.call(t,N(t,this));var r=N(t,this);void 0==r.id&&(r.id="easyui_tree_node_id_temp",S(t,r)),i.draggingNodeId=r.id},onDrag:function(t){var n=t.pageX,r=t.pageY,o=t.data.startX,a=t.data.startY,i=Math.sqrt((n-o)*(n-o)+(r-a)*(r-a));i>3&&e(this).draggable("proxy").show(),this.pageY=t.pageY},onStopDrag:function(){for(var n=0;n<i.disabledNodes.length;n++)e(i.disabledNodes[n]).droppable("enable");i.disabledNodes=[];var r=P(t,i.draggingNodeId);r&&"easyui_tree_node_id_temp"==r.id&&(r.id="",S(t,r)),s.onStopDrag.call(t,r)}}).droppable({accept:"div.tree-node",onDragEnter:function(o,a){0==s.onDragEnter.call(t,this,n(a))&&(r(a,!1),e(this).removeClass("tree-node-append tree-node-top tree-node-bottom"),e(this).droppable("disable"),i.disabledNodes.push(this))},onDragOver:function(o,a){if(!e(this).droppable("options").disabled){var d=a.pageY,c=e(this).offset().top,l=c+e(this).outerHeight();r(a,!0),e(this).removeClass("tree-node-append tree-node-top tree-node-bottom"),d>c+(l-c)/2?l-d<5?e(this).addClass("tree-node-bottom"):e(this).addClass("tree-node-append"):d-c<5?e(this).addClass("tree-node-top"):e(this).addClass("tree-node-append"),0==s.onDragOver.call(t,this,n(a))&&(r(a,!1),e(this).removeClass("tree-node-append tree-node-top tree-node-bottom"),e(this).droppable("disable"),i.disabledNodes.push(this))}},onDragLeave:function(o,a){r(a,!1),e(this).removeClass("tree-node-append tree-node-top tree-node-bottom"),s.onDragLeave.call(t,this,n(a))},onDrop:function(r,i){var d,c,l=this;return e(this).hasClass("tree-node-append")?(d=o,c="append"):(d=a,c=e(this).hasClass("tree-node-top")?"top":"bottom"),0==s.onBeforeDrop.call(t,l,n(i),c)?void e(this).removeClass("tree-node-append tree-node-top tree-node-bottom"):(d(i,l,c),void e(this).removeClass("tree-node-append tree-node-top tree-node-bottom"))}})}function a(t,n,r,o){var a=e.data(t,"tree"),c=a.options;if(c.checkbox){var l=N(t,n);if(l.checkState){var h=e(n).find(".tree-checkbox");if(void 0==r&&(h.hasClass("tree-checkbox1")?r=!1:h.hasClass("tree-checkbox0")?r=!0:(void 0==l._checked&&(l._checked=e(n).find(".tree-checkbox").hasClass("tree-checkbox1")),r=!l._checked)),l._checked=r,r){if(h.hasClass("tree-checkbox1"))return}else if(h.hasClass("tree-checkbox0"))return;(o||0!=c.onBeforeCheck.call(t,l,r))&&(c.cascadeCheck?(i(t,l,r),d(t,l)):s(t,l,r?"1":"0"),o||c.onCheck.call(t,l,r))}}}function i(t,n,r){var o=e.data(t,"tree").options,a=r?1:0;if(s(t,n,a),o.deepCheck)e.easyui.forEach(n.children||[],!0,function(e){s(t,e,a)});else{var i=[];n.children&&n.children.length&&i.push(n),e.easyui.forEach(n.children||[],!0,function(e){e.hidden||(s(t,e,a),e.children&&e.children.length&&i.push(e))});for(var d=i.length-1;d>=0;d--){var l=i[d];s(t,l,c(l))}}}function s(t,n,r){var o=e.data(t,"tree").options;if(n.checkState&&void 0!=r&&(!n.hidden||o.deepCheck)){var a=e("#"+n.domId).find(".tree-checkbox");n.checkState=["unchecked","checked","indeterminate"][r],n.checked="checked"==n.checkState,a.removeClass("tree-checkbox0 tree-checkbox1 tree-checkbox2"),a.addClass("tree-checkbox"+r)}}function d(t,n){var r=_(t,e("#"+n.domId)[0]);r&&(s(t,r,c(r)),d(t,r))}function c(t){var n=0,r=0,o=0;if(e.easyui.forEach(t.children||[],!1,function(e){e.checkState&&(o++,"checked"==e.checkState?r++:"unchecked"==e.checkState&&n++)}),0!=o){var a=0;return a=n==o?0:r==o?1:2}}function l(t,n){var r=e.data(t,"tree").options;if(r.checkbox){var o=e(n),i=o.find(".tree-checkbox"),s=N(t,n);if(r.view.hasCheckbox(t,s))if(i.length||(s.checkState=s.checkState||"unchecked",e('<span class="tree-checkbox"></span>').insertBefore(o.find(".tree-title"))),"checked"==s.checkState)a(t,n,!0,!0);else if("unchecked"==s.checkState)a(t,n,!1,!0);else{var l=c(s);0===l?a(t,n,!1,!0):1===l&&a(t,n,!0,!0)}else i.remove(),s.checkState=void 0,s.checked=void 0,d(t,s)}}function h(t,n,r,i,s){var d=e.data(t,"tree"),c=d.options,l=e(n).prevAll("div.tree-node:first");r=c.loadFilter.call(t,r,l[0]);var h=T(t,"domId",l.attr("id"));i?h?h.children?h.children=h.children.concat(r):h.children=r:d.data=d.data.concat(r):(h?h.children=r:d.data=r,e(n).empty()),c.view.render.call(c.view,t,n,r),c.dnd&&o(t),h&&S(t,h);for(var u=0;u<d.tmpIds.length;u++)a(t,e("#"+d.tmpIds[u])[0],!0,!0);d.tmpIds=[],setTimeout(function(){f(t,t)},0),s||c.onLoadSuccess.call(t,h,r)}function f(t,n,r){function o(e,t){var n=e.find("span.tree-icon");n.prev("span.tree-indent").addClass("tree-join")}function a(t){var n=t.find("span.tree-indent, span.tree-hit").length;t.next().find("div.tree-node").each(function(){e(this).children("span:eq("+(n-1)+")").addClass("tree-line")})}var i=e.data(t,"tree").options;if(!i.lines)return void e(t).removeClass("tree-lines");if(e(t).addClass("tree-lines"),!r){r=!0,e(t).find("span.tree-indent").removeClass("tree-line tree-join tree-joinbottom"),e(t).find("div.tree-node").removeClass("tree-node-last tree-root-first tree-root-one");var s=e(t).tree("getRoots");s.length>1?e(s[0].target).addClass("tree-root-first"):1==s.length&&e(s[0].target).addClass("tree-root-one")}e(n).children("li").each(function(){var n=e(this).children("div.tree-node"),i=n.next("ul");i.length?(e(this).next().length&&a(n),f(t,i,r)):o(n)});var d=e(n).children("li:last").children("div.tree-node").addClass("tree-node-last");d.children("span.tree-join").removeClass("tree-join").addClass("tree-joinbottom")}function u(t,n,r,o){var a=e.data(t,"tree").options;r=e.extend({},a.queryParams,r||{});var i=null;if(t!=n){var s=e(n).prev();i=N(t,s[0])}if(0!=a.onBeforeLoad.call(t,i,r)){var d=e(n).prev().children("span.tree-folder");d.addClass("tree-loading");var c=a.loader.call(t,r,function(e){d.removeClass("tree-loading"),h(t,n,e),o&&o()},function(){d.removeClass("tree-loading"),a.onLoadError.apply(t,arguments),o&&o()});0==c&&d.removeClass("tree-loading")}}function p(t,n,r){var o=e.data(t,"tree").options,a=e(n).children("span.tree-hit");if(0!=a.length&&!a.hasClass("tree-expanded")){var i=N(t,n);if(0!=o.onBeforeExpand.call(t,i)){a.removeClass("tree-collapsed tree-collapsed-hover").addClass("tree-expanded"),a.next().addClass("tree-folder-open");var s=e(n).next();if(s.length)o.animate?s.slideDown("normal",function(){i.state="open",o.onExpand.call(t,i),r&&r()}):(s.css("display","block"),i.state="open",o.onExpand.call(t,i),r&&r());else{var d=e('<ul style="display:none"></ul>').insertAfter(n);u(t,d[0],{id:i.id},function(){d.is(":empty")&&d.remove(),o.animate?d.slideDown("normal",function(){i.state="open",o.onExpand.call(t,i),r&&r()}):(d.css("display","block"),i.state="open",o.onExpand.call(t,i),r&&r())})}}}}function v(t,n){var r=e.data(t,"tree").options,o=e(n).children("span.tree-hit");if(0!=o.length&&!o.hasClass("tree-collapsed")){var a=N(t,n);if(0!=r.onBeforeCollapse.call(t,a)){o.removeClass("tree-expanded tree-expanded-hover").addClass("tree-collapsed"),o.next().removeClass("tree-folder-open");var i=e(n).next();r.animate?i.slideUp("normal",function(){a.state="closed",r.onCollapse.call(t,a)}):(i.css("display","none"),a.state="closed",r.onCollapse.call(t,a))}}}function g(t,n){var r=e(n).children("span.tree-hit");0!=r.length&&(r.hasClass("tree-expanded")?v(t,n):p(t,n))}function C(e,t){var n=I(e,t);t&&n.unshift(N(e,t));for(var r=0;r<n.length;r++)p(e,n[r].target)}function m(e,t){for(var n=[],r=_(e,t);r;)n.unshift(r),r=_(e,r.target);for(var o=0;o<n.length;o++)p(e,n[o].target)}function k(t,n){for(var r=e(t).parent();"BODY"!=r[0].tagName&&"auto"!=r.css("overflow-y");)r=r.parent();var o=e(n),a=o.offset().top;if("BODY"!=r[0].tagName){var i=r.offset().top;a<i?r.scrollTop(r.scrollTop()+a-i):a+o.outerHeight()>i+r.outerHeight()-18&&r.scrollTop(r.scrollTop()+a+o.outerHeight()-i-r.outerHeight()+18)}else r.scrollTop(a)}function b(e,t){var n=I(e,t);t&&n.unshift(N(e,t));for(var r=0;r<n.length;r++)v(e,n[r].target)}function x(t,n){var r=e(n.parent),o=n.data;if(o&&(o=e.isArray(o)?o:[o],o.length)){var a;if(0==r.length)a=e(t);else{if(Y(t,r[0])){var i=r.find("span.tree-icon");i.removeClass("tree-file").addClass("tree-folder tree-folder-open");var s=e('<span class="tree-hit tree-expanded"></span>').insertBefore(i);s.prev().length&&s.prev().remove()}a=r.next(),a.length||(a=e("<ul></ul>").insertAfter(r))}h(t,a[0],o,!0,!0)}}function y(t,n){var r=n.before||n.after,o=_(t,r),a=n.data;if(a&&(a=e.isArray(a)?a:[a],a.length)){x(t,{parent:o?o.target:null,data:a});for(var i=o?o.children:e(t).tree("getRoots"),s=0;s<i.length;s++)if(i[s].domId==e(r).attr("id")){for(var d=a.length-1;d>=0;d--)i.splice(n.before?s:s+1,0,a[d]);i.splice(i.length-a.length,a.length);break}for(var c=e(),s=0;s<a.length;s++)c=c.add(e("#"+a[s].domId).parent());n.before?c.insertBefore(e(r).parent()):c.insertAfter(e(r).parent())}}function D(t,n){function r(n){for(var r=e(n).attr("id"),o=_(t,n),a=o?o.children:e.data(t,"tree").data,i=0;i<a.length;i++)if(a[i].domId==r){a.splice(i,1);break}return o}var o=r(n);if(e(n).parent().remove(),o){if(!o.children||!o.children.length){var a=e(o.target);a.find(".tree-icon").removeClass("tree-folder").addClass("tree-file"),a.find(".tree-hit").remove(),e('<span class="tree-indent"></span>').prependTo(a),a.next().remove()}S(t,o)}f(t,t)}function S(t,n){var r=e.data(t,"tree").options,o=e(n.target),a=N(t,n.target);a.iconCls&&o.find(".tree-icon").removeClass(a.iconCls),e.extend(a,n),o.find(".tree-title").html(r.formatter.call(t,a)),a.iconCls&&o.find(".tree-icon").addClass(a.iconCls),l(t,n.target)}function E(e,t){if(t){for(var n=_(e,t);n;)t=n.target,n=_(e,t);return N(e,t)}var r=B(e);return r.length?r[0]:null}function B(t){for(var n=e.data(t,"tree").data,r=0;r<n.length;r++)O(n[r]);return n}function I(t,n){var r=[],o=N(t,n),a=o?o.children||[]:e.data(t,"tree").data;return e.easyui.forEach(a,!0,function(e){r.push(O(e))}),r}function _(t,n){var r=e(n).closest("ul").prevAll("div.tree-node:first");return N(t,r[0])}function w(t,n){n=n||"checked",e.isArray(n)||(n=[n]);var r=[];return e.easyui.forEach(e.data(t,"tree").data,!0,function(t){t.checkState&&e.easyui.indexOfArray(n,t.checkState)!=-1&&r.push(O(t))}),r}function A(t){var n=e(t).find("div.tree-node-selected");return n.length?N(t,n[0]):null}function L(t,n){var r=N(t,n);return r&&r.children&&e.easyui.forEach(r.children,!0,function(e){O(e)}),r}function N(t,n){return T(t,"domId",e(n).attr("id"))}function P(e,t){return T(e,"id",t)}function T(t,n,r){var o=e.data(t,"tree").data,a=null;return e.easyui.forEach(o,!0,function(e){if(e[n]==r)return a=O(e),!1}),a}function O(t){return t.target=e("#"+t.domId)[0],t}function j(t,n){var r=e.data(t,"tree").options,o=N(t,n);0!=r.onBeforeSelect.call(t,o)&&(e(t).find("div.tree-node-selected").removeClass("tree-node-selected"),e(n).addClass("tree-node-selected"),r.onSelect.call(t,o))}function Y(t,n){return 0==e(n).children("span.tree-hit").length}function H(t,n){var r=e.data(t,"tree").options,o=N(t,n);if(0!=r.onBeforeEdit.call(t,o)){e(n).css("position","relative");var a=e(n).find(".tree-title"),i=a.outerWidth();a.empty();var s=e('<input class="tree-editor">').appendTo(a);s.val(o.text).focus(),s.width(i+20),s._outerHeight(18),s.bind("click",function(e){return!1}).bind("mousedown",function(e){e.stopPropagation()}).bind("mousemove",function(e){e.stopPropagation()}).bind("keydown",function(e){return 13==e.keyCode?(q(t,n),!1):27==e.keyCode?(F(t,n),!1):void 0}).bind("blur",function(e){e.stopPropagation(),q(t,n)})}}function q(t,n){var r=e.data(t,"tree").options;e(n).css("position","");var o=e(n).find("input.tree-editor"),a=o.val();o.remove();var i=N(t,n);i.text=a,S(t,i),r.onAfterEdit.call(t,i)}function F(t,n){var r=e.data(t,"tree").options;e(n).css("position",""),e(n).find("input.tree-editor").remove();var o=N(t,n);S(t,o),r.onCancelEdit.call(t,o)}function R(t,n){function r(n){for(var r=e(t).tree("getParent",e("#"+n)[0]);r;)e(r.target).removeClass("tree-node-hidden"),r.hidden=!1,r=e(t).tree("getParent",r.target)}var o=e.data(t,"tree"),a=o.options,i={};e.easyui.forEach(o.data,!0,function(r){a.filter.call(t,n,r)?(e("#"+r.domId).removeClass("tree-node-hidden"),i[r.domId]=1,r.hidden=!1):(e("#"+r.domId).addClass("tree-node-hidden"),r.hidden=!0)});for(var s in i)r(s)}e.fn.tree=function(r,o){if("string"==typeof r)return e.fn.tree.methods[r](this,o);var r=r||{};return this.each(function(){var o,a=e.data(this,"tree");if(a)o=e.extend(a.options,r),a.options=o;else{o=e.extend({},e.fn.tree.defaults,e.fn.tree.parseOptions(this),r),e.data(this,"tree",{options:o,tree:t(this),data:[],tmpIds:[]});var i=e.fn.tree.parseData(this);i.length&&h(this,this,i)}n(this),o.data&&h(this,this,e.extend(!0,[],o.data)),u(this,this)})},e.fn.tree.methods={options:function(t){return e.data(t[0],"tree").options},loadData:function(e,t){return e.each(function(){h(this,this,t)})},getNode:function(e,t){return N(e[0],t)},getData:function(e,t){return L(e[0],t)},reload:function(t,n){return t.each(function(){if(n){var t=e(n),r=t.children("span.tree-hit");r.removeClass("tree-expanded tree-expanded-hover").addClass("tree-collapsed"),t.next().remove(),p(this,n)}else e(this).empty(),u(this,this)})},getRoot:function(e,t){return E(e[0],t)},getRoots:function(e){return B(e[0])},getParent:function(e,t){return _(e[0],t)},getChildren:function(e,t){return I(e[0],t)},getChecked:function(e,t){return w(e[0],t)},getSelected:function(e){return A(e[0])},isLeaf:function(e,t){return Y(e[0],t)},find:function(e,t){return P(e[0],t)},select:function(e,t){return e.each(function(){j(this,t)})},check:function(e,t){return e.each(function(){a(this,t,!0)})},uncheck:function(e,t){return e.each(function(){a(this,t,!1)})},collapse:function(e,t){return e.each(function(){v(this,t)})},expand:function(e,t){return e.each(function(){p(this,t)})},collapseAll:function(e,t){return e.each(function(){b(this,t)})},expandAll:function(e,t){return e.each(function(){C(this,t)})},expandTo:function(e,t){return e.each(function(){m(this,t)})},scrollTo:function(e,t){return e.each(function(){k(this,t)})},toggle:function(e,t){return e.each(function(){g(this,t)})},append:function(e,t){return e.each(function(){x(this,t)})},insert:function(e,t){return e.each(function(){y(this,t)})},remove:function(e,t){return e.each(function(){D(this,t)})},pop:function(e,t){var n=e.tree("getData",t);return e.tree("remove",t),n},update:function(t,n){return t.each(function(){S(this,e.extend({},n,{checkState:n.checked?"checked":n.checked===!1?"unchecked":void 0}))})},enableDnd:function(e){return e.each(function(){o(this)})},disableDnd:function(e){return e.each(function(){r(this)})},beginEdit:function(e,t){return e.each(function(){H(this,t)})},endEdit:function(e,t){return e.each(function(){q(this,t)})},cancelEdit:function(e,t){return e.each(function(){F(this,t)})},doFilter:function(e,t){return e.each(function(){R(this,t)})}},e.fn.tree.parseOptions=function(t){e(t);return e.extend({},e.parser.parseOptions(t,["url","method",{checkbox:"boolean",cascadeCheck:"boolean",onlyLeafCheck:"boolean"},{animate:"boolean",lines:"boolean",dnd:"boolean"}]))},e.fn.tree.parseData=function(t){function n(t,r){r.children("li").each(function(){var r=e(this),o=e.extend({},e.parser.parseOptions(this,["id","iconCls","state"]),{checked:!!r.attr("checked")||void 0});o.text=r.children("span").html(),o.text||(o.text=r.html());var a=r.children("ul");a.length&&(o.children=[],n(o.children,a)),t.push(o)})}var r=[];return n(r,e(t)),r};var M=1,X={render:function(t,n,r){function o(n,r){for(var s=[],c=0;c<r.length;c++){var l=r[c];"open"!=l.state&&"closed"!=l.state&&(l.state="open"),l.domId="_easyui_tree_"+M++,s.push("<li>"),s.push('<div id="'+l.domId+'" class="tree-node">');for(var h=0;h<n;h++)s.push('<span class="tree-indent"></span>');if("closed"==l.state?(s.push('<span class="tree-hit tree-collapsed"></span>'),s.push('<span class="tree-icon tree-folder '+(l.iconCls?l.iconCls:"")+'"></span>')):l.children&&l.children.length?(s.push('<span class="tree-hit tree-expanded"></span>'),s.push('<span class="tree-icon tree-folder tree-folder-open '+(l.iconCls?l.iconCls:"")+'"></span>')):(s.push('<span class="tree-indent"></span>'),s.push('<span class="tree-icon tree-file '+(l.iconCls?l.iconCls:"")+'"></span>')),this.hasCheckbox(t,l)){var f=0;d&&"checked"==d.checkState&&i.cascadeCheck?(f=1,l.checked=!0):l.checked&&e.easyui.addArrayItem(a.tmpIds,l.domId),l.checkState=f?"checked":"unchecked",s.push('<span class="tree-checkbox tree-checkbox'+f+'"></span>')}else l.checkState=void 0,l.checked=void 0;if(s.push('<span class="tree-title">'+i.formatter.call(t,l)+"</span>"),s.push("</div>"),l.children&&l.children.length){var u=o.call(this,n+1,l.children);s.push('<ul style="display:'+("closed"==l.state?"none":"block")+'">'),s=s.concat(u),s.push("</ul>")}s.push("</li>")}return s}var a=e.data(t,"tree"),i=a.options,s=e(n).prev(".tree-node"),d=s.length?e(t).tree("getNode",s[0]):null,c=s.find("span.tree-indent, span.tree-hit").length,l=o.call(this,c,r);e(n).append(l.join(""))},hasCheckbox:function(t,n){var r=e.data(t,"tree"),o=r.options;if(o.checkbox){if(e.isFunction(o.checkbox))return!!o.checkbox.call(t,n);if(!o.onlyLeafCheck)return!0;if(!("open"!=n.state||n.children&&n.children.length))return!0}return!1}};e.fn.tree.defaults={url:null,method:"post",animate:!1,checkbox:!1,cascadeCheck:!0,onlyLeafCheck:!1,lines:!1,dnd:!1,data:null,queryParams:{},formatter:function(e){return e.text},filter:function(t,n){var r=[];e.map(e.isArray(t)?t:[t],function(t){t=e.trim(t),t&&r.push(t)});for(var o=0;o<r.length;o++){var a=n.text.toLowerCase().indexOf(r[o].toLowerCase());if(a>=0)return!0}return!r.length},loader:function(t,n,r){var o=e(this).tree("options");return!!o.url&&void e.ajax({type:o.method,url:o.url,data:t,dataType:"json",success:function(e){n(e)},error:function(){r.apply(this,arguments)}})},loadFilter:function(e,t){return e},view:X,onBeforeLoad:function(e,t){},onLoadSuccess:function(e,t){},onLoadError:function(){},onClick:function(e){},onDblClick:function(e){},onBeforeExpand:function(e){},onExpand:function(e){},onBeforeCollapse:function(e){},onCollapse:function(e){},onBeforeCheck:function(e,t){},onCheck:function(e,t){},onBeforeSelect:function(e){},onSelect:function(e){},onContextMenu:function(e,t){},onBeforeDrag:function(e){},onStartDrag:function(e){},onStopDrag:function(e){},onDragEnter:function(e,t){},onDragOver:function(e,t){},onDragLeave:function(e,t){},onBeforeDrop:function(e,t,n){},onDrop:function(e,t,n){},onBeforeEdit:function(e){},onAfterEdit:function(e){},onCancelEdit:function(e){}}}(jQuery);